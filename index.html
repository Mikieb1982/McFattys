<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>McFatty's Food Tracker</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Oswald:wght@600;700&display=swap" rel="stylesheet">

  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0f1115">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon-180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="preload" href="Logo.png" as="image">

  <style>
    :root{
      --primary:#f6c35b;
      --primary-strong:#ffb347;
      --danger:#e25546;
      --info:#67c8f0;
      --accent:#f16e54;
      --text-0:#fff8e9;
      --text-1:rgba(255,248,233,.72);
      --text-2:rgba(255,248,233,.58);
      --bg-0:#060913;
      --bg-1:rgba(18,23,37,.82);
      --bg-2:rgba(10,13,22,.68);
      --card:rgba(15,20,34,.88);
      --card-strong:#1c2339;
      --border:rgba(255,199,109,.22);
      --glow:rgba(255,199,109,.35);
      --sp-4:4px; --sp-8:8px; --sp-12:12px; --sp-16:16px; --sp-20:20px; --sp-24:24px;
      --fs-22:22px; --fs-18:18px; --fs-16:16px; --fs-14:14px; --lh:1.5;
      --r-8:8px; --r-12:12px; --r-16:16px;
      --shadow-md:0 14px 36px rgba(3,6,16,.55);
      --shadow-lg:0 24px 60px rgba(3,6,16,.65);
      --transition:all .28s cubic-bezier(.25,.8,.25,1);
      --safe-top: env(safe-area-inset-top, 0px);
    }
    *{box-sizing:border-box}
    html,body{margin:0;min-height:100%;background:var(--bg-0);color:var(--text-0);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;line-height:var(--lh)}
    body{position:relative;overflow-x:hidden}
    body::before,body::after{content:"";position:fixed;inset:-40%;z-index:-2;opacity:.65;pointer-events:none}
    body::before{background:radial-gradient(circle at 20% 20%,rgba(255,195,90,.25),transparent 55%),radial-gradient(circle at 80% 0,rgba(105,186,255,.14),transparent 45%),radial-gradient(circle at 50% 80%,rgba(241,110,84,.12),transparent 55%)}
    body::after{opacity:.35;background:radial-gradient(circle at 10% 90%,rgba(255,195,90,.22),transparent 50%),radial-gradient(circle at 85% 75%,rgba(241,110,84,.18),transparent 55%);z-index:-3}
    p{color:var(--text-1);margin:0 0 var(--sp-16)}
    a{color:var(--primary);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:960px;margin:0 auto;padding:var(--sp-12) var(--sp-16) var(--sp-24)}
    .stack-16 > *+*{margin-top:var(--sp-16)}
    .stack-20 > *+*{margin-top:var(--sp-20)}

    /* Top bar */
    .utility-bar{position:sticky;top:0;z-index:300;padding:calc(var(--sp-8)+var(--safe-top)) var(--sp-8) var(--sp-12);
      margin:0 calc(-1*var(--sp-16)) var(--sp-12);
      background:linear-gradient(180deg,rgba(8,12,23,.92),rgba(8,11,20,.62) 70%,rgba(7,9,19,0));
      backdrop-filter:blur(18px)}
    .utility-row{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:0 var(--sp-8)}
    .header-actions{display:flex;align-items:center;gap:var(--sp-12);flex-wrap:wrap;justify-content:flex-end}
    .auth-actions{display:flex;gap:10px;flex-wrap:wrap}
    .icon-btn{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:16px;
      border:1px solid rgba(255,199,109,.28);background:linear-gradient(145deg,rgba(28,33,52,.86),rgba(15,20,34,.86));
      color:var(--text-0);cursor:pointer;transition:var(--transition);box-shadow:0 6px 18px rgba(5,7,15,.45)}
    .icon-btn:hover{transform:translateY(-1px);box-shadow:0 12px 26px rgba(5,7,15,.55)}
    .icon-btn:active{transform:translateY(0) scale(.97)}
    .icon{width:22px;height:22px;display:block}

    /* Lang toggle */
    .lang-toggle{display:inline-flex;align-items:center;gap:var(--sp-8);user-select:none;cursor:pointer;padding:6px 10px;border-radius:999px;
      background:rgba(28,34,54,.58);border:1px solid rgba(255,199,109,.16);backdrop-filter:blur(10px);box-shadow:0 10px 26px rgba(6,8,18,.45)}
    .lang-toggle span{font-size:11px;font-weight:700;letter-spacing:.08em;color:var(--text-0);text-transform:uppercase}
    .switch{position:relative;width:52px;height:28px;background:linear-gradient(135deg,rgba(28,34,54,.92),rgba(15,20,34,.92));
      border-radius:18px;border:1px solid rgba(255,199,109,.18);box-shadow:inset 0 2px 6px rgba(0,0,0,.35);transition:var(--transition)}
    .switch::after{content:"";position:absolute;top:2px;left:2px;width:24px;height:24px;border-radius:50%;
      background:linear-gradient(135deg,var(--primary),var(--primary-strong));box-shadow:0 6px 14px rgba(246,195,91,.5);
      transition:var(--transition)}
    .switch.active{background:linear-gradient(135deg,rgba(32,40,63,.92),rgba(20,26,44,.92))}
    .switch.active::after{left:26px}

    /* Buttons */
    .btn{padding:12px 20px;border-radius:16px;font-weight:700;cursor:pointer;min-height:44px;transition:var(--transition);
      border:1px solid transparent;display:inline-flex;align-items:center;justify-content:center;letter-spacing:.02em;position:relative;
      overflow:hidden}
    .btn:active{transform:translateY(0) scale(.99)}
    .btn[disabled]{opacity:.55;pointer-events:none}
    .btn-primary{background:linear-gradient(135deg,var(--primary),var(--primary-strong));color:#2d1a07;border-color:rgba(255,211,125,.35);
      box-shadow:0 16px 32px rgba(246,195,91,.32)}
    .btn-primary:hover{box-shadow:0 20px 40px rgba(246,195,91,.4);transform:translateY(-1px)}
    .btn-secondary{background:linear-gradient(145deg,rgba(30,37,58,.85),rgba(15,21,34,.85));color:var(--text-0);
      border-color:rgba(255,199,109,.18);box-shadow:0 12px 28px rgba(5,7,15,.45)}
    .btn-secondary:hover{transform:translateY(-1px);box-shadow:0 16px 36px rgba(5,7,15,.55)}
    .btn-danger{background:linear-gradient(135deg,var(--danger),#ba3d30);color:#fff;box-shadow:0 16px 32px rgba(226,85,70,.35)}
    .btn-danger:hover{box-shadow:0 18px 38px rgba(226,85,70,.45);transform:translateY(-1px)}
    .btn:focus,.input:focus,.switch:focus-visible,.icon-btn:focus{outline:none;box-shadow:0 0 0 3px var(--glow)}
    .btn-google{background:linear-gradient(135deg,#ffffff,#f2f2f2);color:#1f1f1f;border:1px solid rgba(0,0,0,.08);
      width:100%;gap:10px;box-shadow:0 12px 26px rgba(6,8,18,.35)}
    .btn-google:hover{transform:translateY(-1px);box-shadow:0 16px 34px rgba(6,8,18,.45)}

    /* Install button hidden unless prompted */
    #pwa-install{padding:12px 18px;font-size:14px;line-height:1;white-space:nowrap;max-width:100%;display:none}
    @media (max-width:620px){.utility-row{flex-wrap:wrap;gap:12px}#pwa-install{width:100%}}

    /* Logo */
    .hero-logo{background:linear-gradient(145deg,rgba(28,35,57,.9),rgba(15,22,36,.85));border-radius:28px;box-shadow:var(--shadow-lg);
      padding:var(--sp-16);display:flex;justify-content:center;align-items:center;border:1px solid rgba(255,199,109,.18);position:relative;overflow:hidden}
    .hero-logo::after{content:"";position:absolute;inset:10%;border-radius:24px;border:1px solid rgba(255,199,109,.08);opacity:.5;pointer-events:none}
    .hero-logo img{width:100%;max-width:300px;display:block;margin:0 auto;filter:drop-shadow(0 20px 30px rgba(0,0,0,.45))}

    /* Sections */
    .section{position:relative;background:linear-gradient(160deg,var(--card),var(--card-strong));border:1px solid var(--border);
      border-radius:24px;box-shadow:var(--shadow-md);padding:26px;overflow:hidden;backdrop-filter:blur(12px)}
    .section::before{content:"";position:absolute;inset:1px;border-radius:22px;border:1px solid rgba(255,199,109,.06);
      background:radial-gradient(circle at 15% 15%,rgba(255,199,109,.08),transparent 55%),radial-gradient(circle at 85% 20%,rgba(103,200,240,.12),transparent 60%);
      opacity:.9;pointer-events:none}
    .section > *{position:relative;z-index:1}
    .section h2{font-family:Oswald,sans-serif;font-weight:700;font-size:26px;margin:0 0 var(--sp-12);
      background:linear-gradient(90deg,var(--primary),var(--info));-webkit-background-clip:text;color:transparent;text-transform:uppercase;letter-spacing:.04em}
    #landing-page{display:grid;gap:var(--sp-16)}
    #app-content{display:grid;gap:var(--sp-16)}
    .section-head{display:flex;justify-content:space-between;align-items:center;gap:var(--sp-12);flex-wrap:wrap}
    .actions{display:flex;gap:10px;flex-wrap:wrap}
    .manifesto-paragraph{color:var(--text-1);font-size:16px;line-height:1.6}
    .info-text{color:var(--text-2);font-size:14px;text-align:center;margin-top:var(--sp-12)}
    .label{font-size:var(--fs-14);color:var(--text-2);margin-bottom:var(--sp-8);display:block;text-transform:uppercase;letter-spacing:.08em}
    .input{width:100%;background:linear-gradient(145deg,rgba(29,36,58,.85),rgba(18,24,38,.88));color:var(--text-0);
      border:1px solid rgba(255,199,109,.18);border-radius:16px;padding:16px 18px;transition:var(--transition);box-shadow:0 10px 26px rgba(6,8,18,.35)}
    .input:hover{border-color:rgba(255,199,109,.32)}
    .input::placeholder{color:rgba(255,248,233,.35)}
    .checkbox{width:20px;height:20px;cursor:pointer;margin-right:var(--sp-8);border:1px solid rgba(255,199,109,.25);
      border-radius:6px;background:rgba(18,24,38,.85)}
    .controls{display:flex;flex-wrap:wrap;gap:var(--sp-12);align-items:flex-end}
    .controls .grow{flex:1 1 260px}
    .manifesto-paragraph{color:var(--text-0);line-height:1.6;margin:0 0 var(--sp-16)}
    .info-text{color:var(--text-1);font-size:13px;text-align:center;margin-top:var(--sp-12)}

    /* Table */
    .table{width:100%;border-collapse:separate;border-spacing:0 var(--sp-12)}
    .table thead th{color:var(--text-2);font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.08em;padding-bottom:6px}
    .table tbody tr{background:linear-gradient(145deg,rgba(29,35,55,.9),rgba(17,23,36,.9));border:1px solid rgba(255,199,109,.16);
      border-radius:18px;box-shadow:0 12px 28px rgba(5,7,15,.45);transition:var(--transition)}
    .table tbody tr:hover{transform:translateY(-2px);box-shadow:0 16px 36px rgba(5,7,15,.55)}
    .table tbody td{padding:14px 16px;color:var(--text-0)}
    .row-actions{text-align:right}
    .pill{padding:6px 12px;border-radius:999px;font-size:12px;font-weight:700;letter-spacing:.05em}
    .pill-yes{background:rgba(103,200,240,.18);color:#9bd8ff}
    .pill-no{background:rgba(226,85,70,.2);color:#ffb5a9}

    .user-info{display:none;align-items:center;gap:var(--sp-12);padding:6px 14px;border-radius:999px;
      background:rgba(28,34,54,.58);border:1px solid rgba(255,199,109,.18);box-shadow:0 10px 26px rgba(6,8,18,.45)}
    .user-info.show{display:flex}
    #user-name{font-weight:600;color:var(--text-0);letter-spacing:.03em}

    .footer{color:var(--text-2);font-size:12px;text-align:center;padding:18px 0;letter-spacing:.1em;text-transform:uppercase}

    /* Modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(3,5,14,.72);display:none;align-items:center;justify-content:center;z-index:500;backdrop-filter:blur(6px)}
    .modal-backdrop.show{display:flex}
    .modal{background:linear-gradient(150deg,rgba(26,32,52,.92),rgba(15,21,34,.92));padding:26px;border-radius:22px;text-align:center;max-width:360px;width:90%;border:1px solid rgba(255,199,109,.16);box-shadow:var(--shadow-md)}
    .modal h3{margin:0 0 12px;font-family:Oswald,sans-serif;font-size:22px;color:var(--text-0);letter-spacing:.06em}
    .modal p{margin:0 0 16px;color:var(--text-2)}
    .modal-actions{display:flex;gap:12px;justify-content:center;margin-top:18px;flex-wrap:wrap}

    /* Toast (centered) */
    .install-banner{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.96);opacity:0;
      background:linear-gradient(150deg,rgba(28,35,57,.92),rgba(18,24,38,.92));color:var(--text-0);
      padding:18px 24px;border:1px solid rgba(255,199,109,.18);border-radius:20px;box-shadow:var(--shadow-md);font-weight:700;font-size:14px;display:none;z-index:550;transition:opacity .25s ease,transform .25s ease}
    .install-banner.show{display:block;opacity:1;transform:translate(-50%,-50%) scale(1)}

    /* Sidebar (right) */
    .scrim{position:fixed;inset:0;background:rgba(5,8,17,.72);display:none;z-index:450;backdrop-filter:blur(4px)}
    .scrim.show{display:block}
    .sidebar{position:fixed;top:0;right:0;height:100%;width:320px;max-width:88%;background:linear-gradient(160deg,rgba(20,26,44,.95),rgba(10,14,24,.92));
      border-left:1px solid rgba(255,199,109,.16);box-shadow:var(--shadow-lg);transform:translateX(100%);
      transition:transform .24s ease-out;z-index:600;display:flex;flex-direction:column;overflow:hidden}
    .sidebar.open{transform:translateX(0)}
    .sb-head{display:flex;align-items:center;justify-content:space-between;padding:18px;border-bottom:1px solid rgba(255,199,109,.12)}
    .sb-title{font-family:Oswald,sans-serif;font-size:20px;margin:0;letter-spacing:.1em;text-transform:uppercase;color:var(--text-0)}
    .sb-section-title{padding:16px 20px 8px;color:var(--text-2);font-size:12px;text-transform:uppercase;letter-spacing:.12em}
    .sb-list{list-style:none;margin:0;padding:0 20px 20px}
    .sb-item-btn{width:100%;text-align:left;padding:14px 16px;background:linear-gradient(145deg,rgba(29,35,55,.85),rgba(16,21,34,.85));
      color:var(--text-0);border:1px solid rgba(255,199,109,.14);border-radius:16px;cursor:pointer;display:flex;align-items:center;gap:12px;
      margin-top:var(--sp-12);box-shadow:0 12px 26px rgba(5,7,15,.45);transition:var(--transition)}
    .sb-item-btn:first-child{margin-top:0}
    .sb-item-btn:focus{outline:none;box-shadow:0 0 0 3px var(--glow),0 12px 30px rgba(5,7,15,.55)}
    .sb-item-btn:hover{transform:translateY(-2px);box-shadow:0 16px 36px rgba(5,7,15,.55)}
    .sb-item-icon{width:18px;height:18px;opacity:.9}
    .sb-manifesto{margin:0 20px 24px;padding:20px;border-radius:20px;background:linear-gradient(150deg,rgba(30,37,60,.88),rgba(18,23,38,.9));
      border:1px solid rgba(255,199,109,.14);box-shadow:0 14px 32px rgba(5,7,15,.45);overflow:auto;max-height:calc(100vh - 240px)}
    .sb-manifesto::-webkit-scrollbar{width:6px}
    .sb-manifesto::-webkit-scrollbar-thumb{background:rgba(255,199,109,.25);border-radius:999px}
    .sb-manifesto p{font-size:14px;line-height:1.6;color:var(--text-1)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    @media (prefers-reduced-motion:reduce){.install-banner,.sidebar{transition:none}.btn,.icon-btn{transition:none}.btn:active{transform:none}}

    @media (max-width:720px){
      .utility-bar{margin:0 calc(-1*var(--sp-12)) var(--sp-12)}
      .section{padding:20px;border-radius:20px}
      .section::before{border-radius:18px}
      .hero-logo{padding:var(--sp-12);border-radius:24px}
      .hero-logo::after{inset:12%}
      .sb-manifesto{max-height:calc(100vh - 220px)}
    }

    @media (min-width:820px){
      .container{padding:var(--sp-24) var(--sp-24) 80px}
      .hero-logo img{max-width:320px}
      #landing-page{grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:var(--sp-24)}
      #auth-section{height:100%}
    }
  </style>
</head>
<body>
  <div id="scrim" class="scrim" tabindex="-1" aria-hidden="true"></div>
  <aside id="sidebar" class="sidebar" aria-hidden="true" aria-labelledby="menu-title" role="dialog">
    <div class="sb-head">
      <h3 id="menu-title" class="sb-title" data-i18n="menuTitle">Menu</h3>
      <button id="menu-close" class="icon-btn" aria-label="C